<!DOCTYPE html>
<html class="no-js">
    <head>
        <!-- Basic Page Needs
        ================================================== -->
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <link rel="icon" type="image/png" href="images/favicons/map-favicon.png">
        <title>Alexandre Cortyl - Where was I?</title>
        <meta name="description" content="Computer Engineer in Data Science, Machine Learning and Data Mining.">
        <meta name="keywords" content="Alexandre, Cortyl, Computer Engineer, Data Science, Machine Learning, Data Mining">
        <meta name="author" content="Alexandre Cortyl">
        <!-- Mobile Specific Metas
        ================================================== -->
        <meta name="format-detection" content="telephone=no">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <!-- Template CSS Files
        ================================================== -->
        <!-- Twitter Bootstrs CSS -->
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <!-- Ionicons Fonts Css -->
        <link rel="stylesheet" href="css/ionicons.min.css">
        <!-- animate css -->
        <link rel="stylesheet" href="css/animate.css">
        <!-- Hero area slider css-->
        <link rel="stylesheet" href="css/slider.css">
        <!-- owl carousel css -->
        <link rel="stylesheet" href="css/owl.carousel.css">
        <link rel="stylesheet" href="css/owl.theme.css">
        <link rel="stylesheet" href="css/jquery.fancybox.css">
        <!-- template main css file -->
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/purple.css">
        <!-- responsive css -->
        <link rel="stylesheet" href="css/responsive.css">
        <!-- Leaflet css -->
        <link rel="stylesheet" type="text/css" href="css/leaflet.css">
        
        <!-- Template Javascript Files
        ================================================== -->
        <!-- modernizr js -->
        <script src="js/vendor/modernizr-2.6.2.min.js"></script>
        <!-- jquery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
        <!-- owl carouserl js -->
        <script src="js/owl.carousel.min.js"></script>
        <!-- bootstrap js -->
        <script src="js/bootstrap.min.js"></script>
        <!-- wow js -->
        <script src="js/wow.min.js"></script>
        <!-- slider js -->
        <script src="js/slider.js"></script>
        <script src="js/jquery.fancybox.js"></script>
        <!-- template main js -->
        <script src="js/main.js"></script>
        <!-- leaflet js -->
        <script src='js/leaflet.js'></script>
        <script src='js/leaflet-omnivore.min.js'></script>
        <!-- D3 js -->
        <script src='js/d3.min.js'></script>
    </head>
    <body>
                <!--
                ==================================================
                Header Section Start
                ================================================== -->
                <header id="top-bar" class="navbar-fixed-top animated-header">
                    <div class="container">
                        <div class="navbar-header">
                            <!-- responsive nav button -->
                            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            </button>
                            <!-- /responsive nav button -->
                            <!-- logo -->
                            <div class="navbar-brand">
                                <a href="http://www.alexandrecortyl.com">
                                    Alexandre CORTYL
                                </a>
                            </div>
                            <!-- /logo -->
                        </div>

                        <!-- main menu -->
                        <nav class="collapse navbar-collapse navbar-right" role="navigation">
                            <div class="main-menu">
                                <ul class="nav navbar-nav navbar-right">
                                    <li>
                                        <a href="http://www.alexandrecortyl.com" >Home</a>
                                    </li>
                                    <li><a href="about.html">About</a></li>
                                    <li><a href="resume.html">Resume</a></li>
                                    <li class="dropdown">
                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects <span class="caret"></span></a>
                                        <div class="dropdown-menu">
                                            <ul>
                                                <li><a href="finder.html">Intern Finder</a></li>
                                            </ul>
                                            <ul>
                                                <li><a href="map.html">Where was I?</a></li>
                                            </ul>
                                            <ul>
                                                <li><a href="https://ic05-picasso.herokuapp.com/" target="_blank">Beer Data</a></li>
                                            </ul>
                                            <ul>
                                                <li><a href="http://alexandrecortyl.com/Dataiku_US_census_analysis/" target="_blank">US Census</a></li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li><a href="contact.html">Contact</a></li>
                                </ul>
                            </div>
                        </nav>
                        <!-- /main nav -->
                    </div>
                </header>
                
                <!--
                ==================================================
                Page Start
                ================================================== -->

                <section id="Indications">
                    <div class="container" style="padding-top: 110px;">
                        <div class="center" style="text-align: center">
                            <h1 style="border-bottom: #7092c7 6px solid; border-bottom-width: 6px; border-bottom-style: solid; display: inline-block; padding-bottom: 10px">Where was I?</h1>
                        </div>
                    </div>
                    <div style="margin-bottom: 20px;">
                            <h3 style="text-align: center; padding-top: 20px;">
                                I love travelling, follow my trail!
                            </h3>
                            <h4 style="text-align: center;"> 
                            Zoom in the map to see the data points in more detail, and click each location to display relevant information.
                                <br>
                            <!-- Lay back and watch the chronological path draw in front of your eyes. -->
                            </h4>
                        </div>
                </section>

                <div id='my-location-leaflet-map' style='width: 600px; height: 400px; margin: auto'></div>

                <script>
                //create a map centered on Istanbul with zoom level 10
                var map = L.map('my-location-leaflet-map');
                var centerCoordinates = new L.LatLng(41.015137, 28.979530);
                var initialZoom = 10;
                map.setView(centerCoordinates, initialZoom);
                 
                //add a basemap tile layer to the map and set maxZoom to how far you can zoom this tileset in
                var basemapURL = 'https://a.tiles.mapbox.com/v3/mapbox.world-bright/{z}/{x}/{y}.png'
                map.addLayer(new L.TileLayer(basemapURL, {maxZoom: 11, attribution: ''}));

                //set up a customized icon to use for the point data
                var customIcon = L.icon({
                    iconUrl: 'images/icons/marker-18@2x.png',
                    iconSize: [18, 18], //size of the icon in pixels
                    iconAnchor: [9, 9], //point of the icon which will correspond to marker's location (the center)
                    popupAnchor: [0, 0] //point from which the popup should open relative to the iconAnchor
                });

                // var svg = d3.select(map.getPanes().overlayPane).append("svg");
                // var g = svg.append("g").attr("class", "leaflet-zoom-hide");

                //load the CSV of point data to add to the map
                omnivore.csv('data/reduced_geocoded_openpaths_data_13_02_2016.csv')
                    .on('ready', function(layer) {
                        this.eachLayer(function(marker) {
                 
                            //change the icons for each point on the map
                            marker.setIcon(customIcon);
                 
                            //create popup text to display the date, city, and country of the GPS data point
                            var popupText =
                                marker.toGeoJSON().properties.date +
                                '<br />I was in ' +
                                marker.toGeoJSON().properties.city + ', ' +
                                marker.toGeoJSON().properties.country;
                 
                            //bind the popup to each icon
                            marker.bindPopup(popupText);
                        });
                    })
                    .addTo(map);
                </script>

                <section id="About project">
                    <div class="container">
                        <div class="center" style="text-align: center">
                            <h1 style="border-bottom: #7092c7 6px solid; border-bottom-width: 6px; border-bottom-style: solid; display: inline-block; margin-bottom: 0px; margin-top: 20px; padding-bottom: 10px">About the project</h1>
                        </div>
                        <div>
                            <h2> Why? </h2>
                            <h4>
                            Because I like to travel, I wanted to be able to keep track of my whereabouts.
                                <br>
                            This was also an additional opportunity for me to practice JavaScript and map visualization in general.
                                <br>
                                <br>
                            I started collecting my location data in April 2016 while in Istanbul, Turkey, during my Erasmus Exchange Program. With time, you'll be able to follow my travels around the world :)
                            </h4>
                            <h2 style="padding-top: 30px"> How? </h2>
                            <h4>
                            I will briefly describe the methodology used to produce the result shown above.
                                <br>
                            If you're interested, please feel free to reach me and I will provide more details.
                                <br>
                                <br>
                            <ol>
                                <li><u>Collecting my location data:</u></li>
                            My location data comes from <a href="https://openpaths.cc/" style="color: #7092c7;" target="_blank">OpenPaths</a>. This app uploads location data from your mobile device to their website. You can then access it at will, through a dedicated API or simply by exporting it as a CSV or JSON file.
                                <br>
                                <br>
                            I was particularly convinced by this service as it really gives you the control of your data: you own your data, it is secure and protected and no one else can access it unless you explicitly grant them permission.
                                <br>
                                <br>
                            As they rightfully put it: "The data you store with OpenPaths is your data. Thousands of commercial services and platforms make use of your location, but some also mine or sell that data for other purposes. Additionally, they typically do not share the raw data with a very important individual — you. With OpenPaths, your data are encrypted, so no one can access it."
                                <br>
                                <br>
                                <li><u>Preparing and cleaning the data:</u></li>
                            The raw data previously collected would be uninterpretable if presented "as is". So I had to do some simple data cleaning and preparation for it to be more valuable.
                                <br>
                                <br>
                            To begin with, I enriched my dataset with 'city' and 'country' information for each stored location. Indeed, it initially only contained timestamps, latitude and longitude coordinates.
                                <br>
                            I did this using the <a href="https://developers.google.com/maps/" style="color: #7092c7;" target="_blank">Google Maps API</a> that allows you to request address data from a coordinate pair. I wrote a Python script to automate the process.
                                <br>
                                <br>
                            Next, I chose to simplify my dataset by reducing the number of location data points, concerned that too many points would affect readability. Displaying a large number of points would also trouble the map rendering, which is done on-the-fly and client-side in JavaScript.
                                <br>
                            I applied the <a href="https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm" style="color: #7092c7;" target="_blank">Ramer–Douglas–Peucker (RDP)</a> algorithm, which allows keeping only spatially-representative points. The results were highly satisfying as I was able to reduce the size of my data set by about 90%! Again, this was done using a Python script.
                                <br>
                                <br>
                                <li><u>Displaying the data:</u></li>
                            For the map visualization of my location data, I chose to use <a href="http://leafletjs.com/" style="color: #7092c7;" target="_blank">Leaflet</a>, a powerful open-source JavaScript library for interactive maps.
                                <br>
                            <!-- The chronological path animation through each point was done with the <a href="https://d3js.org/" style="color: #7092c7;" target="_blank">D3.js</a> library. -->
                                <br>
                                <br>
                                <br>
                            </ol>

                            I must conclude with a big THANK YOU to <a href="https://twitter.com/gboeing" style="color: #7092c7;" target="_blank">Geoff Boeing</a>, a PhD candidate in urban planning at UC Berkeley, whose tutorials were very helpful and from which my project is largely inspired.
                            I invite you to check his richly documented blog: <a href="http://geoffboeing.com/" style="color: #7092c7;" target="_blank">http://geoffboeing.com/</a>
                            </h4>
                        </div>
                    </div>
                </section>

                <!--
                ==================================================
                Footer Section Start
                ================================================== -->
                <footer id="footer">
                    <div class="container">
                        <div class="col-md-8">
                            <p class="copyright"> &copy; <span>2016</span> Alexandre Cortyl - Powered by Bootstrap</p> 
                        </div>
                        <div class="col-md-4">
                            <!-- Social Media -->
                            <ul class="social">
                                <li>
                                    <a href="https://www.linkedin.com/in/alexandrecortyl/en" class="Linkedin" target="_blank">
                                        <i class="ion-social-linkedin"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://twitter.com/alexcortyl" class="Twitter" target="_blank">
                                        <i class="ion-social-twitter"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="mailto:alexcortyl@gmail.com" class="Email">
                                        <i class="ion-email"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="skype:alexcortyl?userinfo" class="Skype">
                                        <i class="ion-social-skype"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://github.com/cortylal" class="Github" target="_blank">
                                        <i class="ion-social-github"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </footer> <!-- /#footer -->
        </body>
    </html>